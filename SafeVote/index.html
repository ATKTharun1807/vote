<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeVote - Secure Student Elections</title>
    <meta name="description"
        content="Secure, transparent, and decentralized student elections powered by blockchain technology.">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="SafeVote - Secure Student Elections">
    <meta property="og:description"
        content="Vote for your student council with confidence. Secure, transparent, and tamper-proof.">
    <meta property="og:image" content="voting.png">
    <meta property="og:url" content="">

    <link rel="icon" href="voting.png">

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <!-- PDF Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="assets/logo.png">
</head>

<body>

    <nav class="navbar">
        <div class="container flex-between">
            <a href="#" onclick="window.app.showHome(); return false;"
                style="text-decoration:none; display:flex; align-items:center; gap:0.5rem; color:var(--primary); font-weight:900; font-size:1.5rem;">
                <div
                    style="background:var(--card-bg); width:40px; height:40px; border-radius:50%; display:flex; align-items:center; justify-content:center; overflow:hidden; border:1px solid var(--card-border);">
                    <img src="https://www.shutterstock.com/image-vector/vote-hand-india-election-260nw-1338684383.jpg"
                        alt="SafeVote" style="width:100%; height:100%; object-fit:cover;">
                </div>
                <span>VOTE CHAIN</span>
            </a>

            <div id="home-nav" class="mobile-hidden" style="display:flex; gap:1.5rem; align-items:center;">
                <div id="sync-badge" class="hidden"
                    style="display:flex; align-items:center; gap:0.4rem; background:rgba(34,197,94,0.1); color:#16a34a; padding:0.25rem 0.6rem; border-radius:99px; font-size:0.65rem; font-weight:800; border:1px solid rgba(34,197,94,0.2);">
                    <div
                        style="width:6px; height:6px; background:#22c55e; border-radius:50%; animation: pulse 2s infinite;">
                    </div>
                    LIVE SYNC
                </div>
                <button onclick="window.app.showHome(); window.app.toggleMobileMenu(false);"
                    style="background:none; border:none; font-weight:700; color:var(--text-muted); cursor:pointer;">HOME</button>
                <button
                    onclick="document.getElementById('about-section').scrollIntoView({behavior:'smooth'}); window.app.toggleMobileMenu(false);"
                    style="background:none; border:none; font-weight:700; color:var(--text-muted); cursor:pointer;">ABOUT</button>
                <button
                    onclick="document.getElementById('features-section').scrollIntoView({behavior:'smooth'}); window.app.toggleMobileMenu(false);"
                    style="background:none; border:none; font-weight:700; color:var(--text-muted); cursor:pointer;">FEATURES</button>

                <div class="theme-switcher-premium">
                    <button onclick="window.app.setTheme('light')" title="Light Mode" class="theme-btn"
                        data-mode="light">
                        <i data-lucide="sun" size="16"></i>
                    </button>
                    <button onclick="window.app.setTheme('dark')" title="Dark Mode" class="theme-btn" data-mode="dark">
                        <i data-lucide="moon" size="16"></i>
                    </button>
                    <button onclick="window.app.setTheme('eye-protection')" title="Eye Protection" class="theme-btn"
                        data-mode="eye-protection">
                        <i data-lucide="eye" size="16"></i>
                    </button>
                </div>
            </div>

            <button class="mobile-toggle" onclick="window.app.toggleMobileMenu()">
                <i data-lucide="menu"></i>
            </button>

            <div id="auth-section" class="hidden flex-between" style="gap:1.5rem;">
                <div style="text-align:right">
                    <div id="nav-username" style="font-weight:800; font-size:0.9rem;">User Name</div>
                    <div id="nav-role" style="font-size:0.7rem; color:var(--text-muted); text-transform:uppercase;">ID:
                        123456</div>
                </div>
                <button onclick="window.app.logout()"
                    style="background:#fee2e2; border:none; color:#ef4444; padding:0.5rem 1rem; border-radius:0.75rem; font-weight:700; cursor:pointer;">EXIT</button>
            </div>
        </div>
    </nav>

    <main class="container">

        <!-- HOME VIEW -->
        <div id="home-view" class="fade-in">
            <header class="hero-section">
                <div class="hero-badge"><i data-lucide="shield-check" size="14"></i> Encrypted & Secure</div>
                <h1 id="election-title-display" class="hero-title">Student Council Election</h1>
                <p class="hero-desc">The next generation of student elections. Built on blockchain principles to ensure
                    your choice is permanent, private, and powerful.</p>
                <div class="btn-group">
                    <button onclick="window.app.showView('student-login')" class="btn-primary-custom"
                        style="padding:1.5rem 3rem">Student Login</button>
                    <button onclick="window.app.showView('admin-login')" class="btn-primary-custom"
                        style="padding:1.5rem 3rem; background:var(--card-bg); color:var(--text-main); border:2px solid var(--card-border);">Admin
                        Portal</button>
                </div>
            </header>

            <!-- About Section -->
            <section id="about-section" style="padding:4rem 0; border-top:1px solid #e2e8f0;">
                <div style="text-align:center; margin-bottom:4rem;">
                    <h2 style="font-size:2.5rem; font-weight:900;">How it Works</h2>
                    <p style="color:var(--text-muted)">The most transparent election system ever built.</p>
                </div>
                <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:2rem;">
                    <div class="card-custom" style="text-align:center">
                        <div
                            style="background:rgba(14, 165, 233, 0.1); color:var(--accent); width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 1.5rem;">
                            <i data-lucide="zap" size="30"></i>
                        </div>
                        <h3>Instant Counting</h3>
                        <p style="color:var(--text-muted)">Votes are processed in real-time. No manual errors, no
                            delays.</p>
                    </div>
                    <div class="card-custom" style="text-align:center">
                        <div
                            style="background:rgba(37, 99, 235, 0.1); color:var(--primary); width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 1.5rem;">
                            <i data-lucide="lock" size="30"></i>
                        </div>
                        <h3>Encrypted Identity</h3>
                        <p style="color:var(--text-muted)">Your personal ID is never linked directly to your choice in
                            the ledger.</p>
                    </div>
                    <div class="card-custom" style="text-align:center">
                        <div
                            style="background:rgba(52, 211, 153, 0.1); color:#10b981; width:60px; height:60px; border-radius:50%; display:flex; align-items:center; justify-content:center; margin:0 auto 1.5rem;">
                            <i data-lucide="layers" size="30"></i>
                        </div>
                        <h3>Blockchain Ledger</h3>
                        <p style="color:var(--text-muted)">Every vote creates an immutable block. Results can't be
                            tampered with.</p>
                    </div>
                </div>
            </section>

            <!-- Features Section - SEPARATE BOXES -->
            <section id="features-section" style="padding:4rem 0; border-top:1px solid #e2e8f0; margin-bottom:4rem;">
                <div style="text-align:center; margin-bottom:1rem;">
                    <h2 style="font-size:2.5rem; font-weight:900;">System Features</h2>
                    <p style="color:var(--text-muted)">Everything you need for a fair election.</p>
                </div>
                <div class="feature-grid">
                    <div class="feature-box">
                        <div class="feature-icon"><i data-lucide="cloud"></i></div>
                        <div class="feature-title">Cloud Sync</div>
                        <p class="feature-desc">All data is synced across nodes instantly for 100% availability.</p>
                    </div>
                    <div class="feature-box">
                        <div class="feature-icon"><i data-lucide="file-text"></i></div>
                        <div class="feature-title">PDF Export</div>
                        <p class="feature-desc">Generate detailed election reports and candidate summaries with one
                            click.</p>
                    </div>
                    <div class="feature-box">
                        <div class="feature-icon"><i data-lucide="search"></i></div>
                        <div class="feature-title">Live Search</div>
                        <p class="feature-desc">Instantly filter through dozens of candidates to find your preferred
                            choice.</p>
                    </div>
                    <div class="feature-box">
                        <div class="feature-icon"><i data-lucide="key"></i></div>
                        <div class="feature-title">Admin Portal</div>
                        <p class="feature-desc">Secure dashboard for managing candidates, checking turnout, and
                            controlling status.</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- STUDENT LOGIN -->
        <div id="student-login-view" class="hidden fade-in">
            <div class="auth-container">
                <div class="card-custom" style="text-align:center; position:relative;">
                    <button onclick="window.app.showHome()"
                        style="position:absolute; top:20px; left:20px; background:none; border:none; color:var(--text-muted); cursor:pointer; font-weight:700;"><i
                            data-lucide="move-left"></i> BACK</button>
                    <div class="login-img-container">
                        <img src="https://www.shutterstock.com/image-vector/vote-hand-india-election-260nw-1338684383.jpg"
                            alt="Student Login" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <h2 style="font-size:2rem; font-weight:900; margin-bottom:0.5rem">Student Access</h2>
                    <p style="color:var(--text-muted); margin-bottom:2rem">Enter your unique student ID to vote.</p>
                    <div class="form-group">
                        <label class="form-label">Student ID Number</label>
                        <input type="text" id="student-reg-input" class="form-input" placeholder="e.g. 714023107061"
                            inputmode="numeric" onkeyup="if(event.key==='Enter') window.app.handleStudentLogin()">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <div style="position: relative;">
                            <input type="password" id="student-pass-input" class="form-input" placeholder="••••••••"
                                onkeyup="if(event.key==='Enter') window.app.handleStudentLogin()">
                            <i data-lucide="eye" id="toggle-pass-icon" onclick="window.app.togglePasswordVisibility()"
                                style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); cursor: pointer; color: #64748b; width: 18px; height: 18px;"></i>
                        </div>
                    </div>
                    <button onclick="window.app.handleStudentLogin()" class="btn-primary-custom"
                        style="width:100%; padding:1.25rem;">Verify & Enter Portal</button>
                </div>
            </div>
        </div>

        <!-- ADMIN LOGIN -->
        <div id="admin-login-view" class="hidden fade-in">
            <div class="auth-container">
                <div class="card-custom" style="text-align:center; position:relative;">
                    <button onclick="window.app.showHome()"
                        style="position:absolute; top:20px; left:20px; background:none; border:none; color:var(--text-muted); cursor:pointer; font-weight:700;"><i
                            data-lucide="move-left"></i> BACK</button>
                    <div class="login-img-container">
                        <img src="https://www.shutterstock.com/image-vector/vote-hand-india-election-260nw-1338684383.jpg"
                            alt="Admin Portal" style="width:100%; height:100%; object-fit:cover;">
                    </div>
                    <h2 style="font-size:2rem; font-weight:900; margin-bottom:0.5rem">Admin Portal</h2>
                    <p style="color:var(--text-muted); margin-bottom:2rem">Restricted access for election coordinators
                        only.</p>
                    <div class="form-group">
                        <label class="form-label">Security Access Key</label>
                        <input type="password" id="admin-key-input" class="form-input" placeholder="••••••••"
                            onkeyup="if(event.key==='Enter') window.app.handleAdminLogin()">
                    </div>
                    <button onclick="window.app.handleAdminLogin()" class="btn-primary-custom"
                        style="width:100%; padding:1.25rem; background:#1e293b;">Login as Administrator</button>
                </div>
            </div>
        </div>

        <!-- DASHBOARD VIEW -->
        <div id="dashboard-view" class="hidden fade-in">
            <div style="margin:2rem 0;">
                <nav class="dashboard-nav">
                    <button id="tab-vote" onclick="window.app.switchTab('vote')" class="nav-tab active">Vote
                        Now</button>
                    <button id="tab-guide" onclick="window.app.switchTab('guide')" class="nav-tab">Election
                        Guide</button>
                    <button id="tab-admin" onclick="window.app.switchTab('admin')" class="nav-tab hidden">Control
                        Portal</button>
                    <button id="tab-results" onclick="window.app.switchTab('results')" class="nav-tab hidden">Live
                        Results</button>
                    <button id="tab-blockchain" onclick="window.app.switchTab('blockchain')" class="nav-tab">Digital
                        Ledger</button>
                </nav>
            </div>
            <div id="content-area" class="fade-in"></div>
        </div>

    </main>

    <div id="toast" class="hidden">
        <div class="toast-icon"><i data-lucide="info" size="20"></i></div>
        <span id="toast-message" style="font-weight:700; font-size:0.9rem;">Success message</span>
    </div>

    <!-- MODAL SYSTEM -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal-content card-custom">
            <h2 id="modal-title">Reset Password</h2>
            <div id="modal-body"></div>
            <div class="modal-footer" style="display:flex; gap:1rem; margin-top:2rem; justify-content:flex-end;">
                <button id="modal-cancel" class="btn-primary-custom"
                    style="background:none; color:var(--text-muted); box-shadow:none;">Cancel</button>
                <button id="modal-ok" class="btn-primary-custom">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Main Logic -->
    <script type="module" src="js/app.js"></script>
</body>

</html>